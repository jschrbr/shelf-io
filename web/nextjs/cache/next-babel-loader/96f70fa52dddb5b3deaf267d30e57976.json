{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from \"next/head\";\nimport { useRouter } from \"next/router\";\nimport Error from \"next/error\";\nimport Header from \"../../components/Header\";\nimport Footer from \"../../components/Footer\";\n\n// posts will be populated by getStaticProps() at either:\n// - build time\n// - first request\nfunction Post(_ref) {\n  var post = _ref.post;\n  var router = useRouter();\n\n  if (!router.isFallback && !post) {\n    return __jsx(Error, {\n      statusCode: 404,\n      title: \"No Blog Post with the provided ID\"\n    });\n  }\n\n  if (router.isFallback) {\n    return __jsx(\"div\", {\n      className: \"container\"\n    }, __jsx(\"main\", null, __jsx(\"div\", null, \"Loading...\")));\n  }\n\n  return __jsx(\"div\", {\n    className: \"jsx-1279557918\" + \" \" + \"container\"\n  }, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-1279557918\"\n  }, post.title), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    className: \"jsx-1279557918\"\n  })), __jsx(\"main\", {\n    className: \"jsx-1279557918\"\n  }, __jsx(Header, null), __jsx(\"h1\", {\n    className: \"jsx-1279557918\" + \" \" + \"title\"\n  }, post.title), __jsx(\"p\", {\n    className: \"jsx-1279557918\" + \" \" + \"description\"\n  }, post.blurb), __jsx(\"ul\", {\n    className: \"jsx-1279557918\"\n  }, __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"SSG page with \", __jsx(\"code\", {\n    className: \"jsx-1279557918\"\n  }, \"getStaticProps()\"), \" &\", \" \", __jsx(\"code\", {\n    className: \"jsx-1279557918\"\n  }, \"getStaticPaths()\"), \" with \", __jsx(\"code\", {\n    className: \"jsx-1279557918\"\n  }, \"fallback:true\")), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"page is rendered server-side on \", __jsx(\"em\", {\n    className: \"jsx-1279557918\"\n  }, \"first\"), \" request\"), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"fallback loading page is rendered if no CDN cache of page\"), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"post data is fetched from Firestore server-side using next.js polyfilled \", __jsx(\"code\", {\n    className: \"jsx-1279557918\"\n  }, \"fetch\")), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"page is cached on CDN with the following cache-controls:\", __jsx(\"code\", {\n    className: \"jsx-1279557918\"\n  }, \"'Cache-Control',s-maxage=31536000, stale-while-revalidate\")), __jsx(\"ul\", {\n    className: \"jsx-1279557918\"\n  }, __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"CDN cached result is served if possible\"), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"behind the scenes, requests are made to the Next.js server to refresh the page content\"), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"stale while revalidate is not ideal for these types of pages as we probably don't want to call the Cloud Function in the background on every request. It is slightly better than SSR, but still expensive.\"), __jsx(\"li\", {\n    className: \"jsx-1279557918\"\n  }, \"SSR at least lets us set the Cache-Control settings ourselves, so we can not send \", __jsx(\"code\", {\n    className: \"jsx-1279557918\"\n  }, \"stale-while-revalidate\")))), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: post.content\n    },\n    className: \"jsx-1279557918\"\n  })), __jsx(Footer, null), __jsx(_JSXStyle, {\n    id: \"1824860015\"\n  }, [\".container.jsx-1279557918{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"main.jsx-1279557918{padding:5rem 0;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \"a.jsx-1279557918{color:inherit;-webkit-text-decoration:none;text-decoration:none;}\", \".title.jsx-1279557918 a.jsx-1279557918{color:#0070f3;-webkit-text-decoration:none;text-decoration:none;}\", \".title.jsx-1279557918 a.jsx-1279557918:hover,.title.jsx-1279557918 a.jsx-1279557918:focus,.title.jsx-1279557918 a.jsx-1279557918:active{-webkit-text-decoration:underline;text-decoration:underline;}\", \".title.jsx-1279557918{margin:0;line-height:1.15;font-size:4rem;}\", \".title.jsx-1279557918,.description.jsx-1279557918{text-align:center;}\", \".description.jsx-1279557918{line-height:1.5;font-size:1.5rem;}\", \"code.jsx-1279557918{background:#fafafa;border-radius:5px;padding:0.25rem;font-size:1rem;font-family:Menlo,Monaco,Lucida Console,Liberation Mono, DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace;}\", \".grid.jsx-1279557918{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:800px;margin-top:3rem;}\", \".card.jsx-1279557918{margin:1rem;-webkit-flex-basis:45%;-ms-flex-preferred-size:45%;flex-basis:45%;padding:1.5rem;text-align:left;color:inherit;-webkit-text-decoration:none;text-decoration:none;border:1px solid #eaeaea;border-radius:10px;-webkit-transition:color 0.15s ease,border-color 0.15s ease;transition:color 0.15s ease,border-color 0.15s ease;}\", \".card.jsx-1279557918:hover,.card.jsx-1279557918:focus,.card.jsx-1279557918:active{color:#0070f3;border-color:#0070f3;}\", \".card.jsx-1279557918 h3.jsx-1279557918{margin:0 0 1rem 0;font-size:1.5rem;}\", \".card.jsx-1279557918 p.jsx-1279557918{margin:0;font-size:1.25rem;line-height:1.5;}\", \"@media (max-width:600px){.grid.jsx-1279557918{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}\"]), __jsx(_JSXStyle, {\n    id: \"1393252696\"\n  }, [\"main{max-width:800px;margin:20px auto 0px auto;}\", \"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}\", \"*{box-sizing:border-box;}\"]));\n}\n\nexport var __N_SSG = true;\nexport default Post;","map":null,"metadata":{},"sourceType":"module"}