{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{HfOp:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return A}));var r=n(\"MX0m\"),i=n.n(r),o=n(\"q1tI\"),a=n.n(o),s=n(\"8Kt/\"),c=n.n(s),u=n(\"YFqc\"),l=n.n(u),f=n(\"aUsF\"),d=n.n(f);function p(){return\"undefined\"===typeof document||\"undefined\"===typeof document.visibilityState||\"hidden\"!==document.visibilityState}function h(){return\"undefined\"===typeof navigator.onLine||navigator.onLine}var m=new WeakMap,v=0;var b=new(function(){function e(e){void 0===e&&(e={}),this.__cache=new Map(Object.entries(e)),this.__listeners=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.__cache.get(t)},e.prototype.set=function(e,t,n){void 0===n&&(n=!0);var r=this.serializeKey(e)[0];this.__cache.set(r,t),n&&V(e,t,!1),this.notify()},e.prototype.keys=function(){return Array.from(this.__cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.__cache.has(t)},e.prototype.clear=function(e){void 0===e&&(e=!0),e&&this.__cache.forEach((function(e){return V(e,null,!1)})),this.__cache.clear(),this.notify()},e.prototype.delete=function(e,t){void 0===t&&(t=!0);var n=this.serializeKey(e)[0];t&&V(e,null,!1),this.__cache.delete(n),this.notify()},e.prototype.serializeKey=function(e){var t=null;if(\"function\"===typeof e)try{e=e()}catch(n){e=\"\"}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return\"\";for(var t=\"arg\",n=0;n<e.length;++n){var r=void 0;null===e[n]||\"object\"!==typeof e[n]?r=\"string\"===typeof e[n]?'\"'+e[n]+'\"':String(e[n]):m.has(e[n])?r=m.get(e[n]):(r=v,m.set(e[n],v++)),t+=\"@\"+r}return t}(e)):e=String(e||\"\"),[e,t,e?\"err@\"+e:\"\"]},e.prototype.subscribe=function(e){var t=this;if(\"function\"!==typeof e)throw new Error(\"Expected the listener to be a function.\");var n=!0;return this.__listeners.push(e),function(){if(n){n=!1;var r=t.__listeners.indexOf(e);r>-1&&(t.__listeners[r]=t.__listeners[t.__listeners.length-1],t.__listeners.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.__listeners;e<t.length;e++){(0,t[e])()}},e}()),x={},g={},y={},w={},j={};var k=\"undefined\"!==typeof window&&navigator.connection&&-1!==[\"slow-2g\",\"2g\"].indexOf(navigator.connection.effectiveType),_={onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,t,n,r,i){if(p()&&!(n.errorRetryCount&&i.retryCount>n.errorRetryCount)){var o=Math.min(i.retryCount||0,8),a=~~((Math.random()+.5)*(1<<o))*n.errorRetryInterval;setTimeout(r,a,i)}},errorRetryInterval:1e3*(k?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(k?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:d.a},O=!1;if(\"undefined\"!==typeof window&&window.addEventListener&&!O){var S=function(){if(p()&&h())for(var e in y)y[e][0]&&y[e][0]()};window.addEventListener(\"visibilitychange\",S,!1),window.addEventListener(\"focus\",S,!1),O=!0}var N=_;var E=Object(o.createContext)({});E.displayName=\"SWRConfigContext\";var R=E,C=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(t){o(t)}}function s(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},T=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},I=\"undefined\"===typeof window,P=I?o.useEffect:o.useLayoutEffect,z=function(e,t){void 0===t&&(t=!0);var n=b.serializeKey(e),r=n[0],i=n[2];if(!r)return Promise.resolve();var o=w[r];if(r&&o){for(var a=b.get(r),s=b.get(i),c=[],u=0;u<o.length;++u)c.push(o[u](t,a,s,u>0));return Promise.all(c).then((function(){return b.get(r)}))}return Promise.resolve(b.get(r))},M=function(e,t,n){var r=w[e];if(e&&r)for(var i=0;i<r.length;++i)r[i](!1,t,n)},V=function(e,t,n){return void 0===n&&(n=!0),C(void 0,void 0,void 0,(function(){var r,i,o,a,s,c,u,l,f,d;return T(this,(function(p){switch(p.label){case 0:if(!(r=b.serializeKey(e)[0]))return[2];if(\"undefined\"===typeof t)return[2,z(e,n)];if(j[r]=Date.now()-1,a=j[r],s=g[r],!t||\"function\"!==typeof t)return[3,5];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,t(b.get(r))];case 2:return i=p.sent(),[3,4];case 3:return c=p.sent(),o=c,[3,4];case 4:return[3,11];case 5:if(!t||\"function\"!==typeof t.then)return[3,10];p.label=6;case 6:return p.trys.push([6,8,,9]),[4,t];case 7:return i=p.sent(),[3,9];case 8:return u=p.sent(),o=u,[3,9];case 9:return[3,11];case 10:i=t,p.label=11;case 11:if(a!==j[r]||s!==g[r]){if(o)throw o;return[2,i]}if(\"undefined\"!==typeof i&&b.set(r,i,!1),l=w[r]){for(f=[],d=0;d<l.length;++d)f.push(l[d](!!n,i,o,d>0));return[2,Promise.all(f).then((function(){return b.get(r)}))]}if(o)throw o;return[2,i]}}))}))};R.Provider;var L=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,i,a={};t.length>=1&&(r=t[0]),t.length>2?(i=t[1],a=t[2]):\"function\"===typeof t[1]?i=t[1]:\"object\"===typeof t[1]&&(a=t[1]);var s=b.serializeKey(r),c=s[0],u=s[1],l=s[2];a=Object.assign({},N,Object(o.useContext)(R),a),\"undefined\"===typeof i&&(i=a.fetcher);var f=b.get(c)||a.initialData,d=b.get(l),m=Object(o.useRef)({data:!1,error:!1,isValidating:!1}),v=Object(o.useRef)({data:f,error:d,isValidating:!1}),k=Object(o.useState)(null)[1],_=Object(o.useCallback)((function(e){var t=!1;for(var n in e)v.current[n]=e[n],m.current[n]&&(t=!0);(t||a.suspense)&&k({})}),[]),O=Object(o.useRef)(!1),S=Object(o.useRef)(c),E=Object(o.useRef)({emit:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];O.current||a[e].apply(a,t)}}),z=Object(o.useCallback)((function(e,t){return V(c,e,t)}),[c]),L=Object(o.useCallback)((function(t){return void 0===t&&(t={}),C(e,void 0,void 0,(function(){var e,n,r,o,s,f,d;return T(this,(function(p){switch(p.label){case 0:if(!c||!i)return[2,!1];if(O.current)return[2,!1];t=Object.assign({dedupe:!1},t),e=!0,n=\"undefined\"!==typeof x[c]&&t.dedupe,p.label=1;case 1:return p.trys.push([1,6,,7]),_({isValidating:!0}),r=void 0,o=void 0,n?(o=g[c],[4,x[c]]):[3,3];case 2:return r=p.sent(),[3,5];case 3:return x[c]&&(j[c]=Date.now()-1),a.loadingTimeout&&!b.get(c)&&setTimeout((function(){e&&E.current.emit(\"onLoadingSlow\",c,a)}),a.loadingTimeout),x[c]=null!==u?i.apply(void 0,u):i(c),g[c]=o=Date.now(),[4,x[c]];case 4:r=p.sent(),setTimeout((function(){delete x[c],delete g[c]}),a.dedupingInterval),E.current.emit(\"onSuccess\",r,c,a),p.label=5;case 5:return j[c]&&o<=j[c]?(_({isValidating:!1}),[2,!1]):(b.set(c,r,!1),b.set(l,void 0,!1),s={isValidating:!1},\"undefined\"!==typeof v.current.error&&(s.error=void 0),a.compare(v.current.data,r)||(s.data=r),_(s),n||M(c,r,void 0),[3,7]);case 6:return f=p.sent(),delete x[c],delete g[c],b.set(l,f,!1),v.current.error!==f&&(_({isValidating:!1,error:f}),n||M(c,void 0,f)),E.current.emit(\"onError\",f,c,a),a.shouldRetryOnError&&(d=(t.retryCount||0)+1,E.current.emit(\"onErrorRetry\",f,c,a,L,Object.assign({dedupe:!0},t,{retryCount:d}))),[3,7];case 7:return e=!1,[2,!0]}}))}))}),[c]);if(P((function(){if(c){O.current=!1;var e=v.current.data,t=b.get(c)||a.initialData;S.current===c&&a.compare(e,t)||(_({data:t}),S.current=c);var n,r=function(){return L({dedupe:!0})};(a.revalidateOnMount||!a.initialData&&void 0===a.revalidateOnMount)&&(\"undefined\"!==typeof t&&!I&&window.requestIdleCallback?window.requestIdleCallback(r):r()),a.revalidateOnFocus&&(n=function(e,t){var n=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n||(n=!0,e.apply(void 0,r),setTimeout((function(){return n=!1}),t))}}(r,a.focusThrottleInterval),y[c]?y[c].push(n):y[c]=[n]);var i=function(e,t,n,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var o={},s=!1;return\"undefined\"===typeof t||a.compare(v.current.data,t)||(o.data=t,s=!0),v.current.error!==n&&(o.error=n,s=!0),s&&_(o),!!e&&(i?r():L())};w[c]?w[c].push(i):w[c]=[i];var o=null;return!I&&window.addEventListener&&a.revalidateOnReconnect&&window.addEventListener(\"online\",o=r),function(){var e,t;(_=function(){return null},O.current=!0,n&&y[c])&&((t=(e=y[c]).indexOf(n))>=0&&(e[t]=e[e.length-1],e.pop()));w[c]&&((t=(e=w[c]).indexOf(i))>=0&&(e[t]=e[e.length-1],e.pop()));!I&&window.removeEventListener&&null!==o&&window.removeEventListener(\"online\",o)}}}),[c,L]),P((function(){var t=null,n=function(){return C(e,void 0,void 0,(function(){return T(this,(function(e){switch(e.label){case 0:return v.current.error||!a.refreshWhenHidden&&!p()||!a.refreshWhenOffline&&!h()?[3,2]:[4,L({dedupe:!0})];case 1:e.sent(),e.label=2;case 2:return a.refreshInterval&&(t=setTimeout(n,a.refreshInterval)),[2]}}))}))};return a.refreshInterval&&(t=setTimeout(n,a.refreshInterval)),function(){t&&clearTimeout(t)}}),[a.refreshInterval,a.refreshWhenHidden,a.refreshWhenOffline,L]),a.suspense){var D=b.get(c)||f,F=b.get(l)||d;if(\"undefined\"===typeof D&&\"undefined\"===typeof F){if(x[c]||L(),x[c]&&\"function\"===typeof x[c].then)throw x[c];D=x[c]}if(\"undefined\"===typeof D&&F)throw F;return{error:F,data:D,revalidate:L,mutate:z,isValidating:v.current.isValidating}}return Object(o.useMemo)((function(){var e={revalidate:L,mutate:z};return Object.defineProperties(e,{error:{get:function(){return m.current.error=!0,S.current===c?v.current.error:d},enumerable:!0},data:{get:function(){return m.current.data=!0,S.current===c?v.current.data:f},enumerable:!0},isValidating:{get:function(){return m.current.isValidating=!0,v.current.isValidating},enumerable:!0}}),e}),[L])};new Map;var D=L;var F=n(\"b0oO\"),K=n(\"8lYe\"),W=a.a.createElement,H=\"https://firestore.googleapis.com/v1/projects/\".concat(\"shelf-io\",\"/databases/(default)/documents/posts?mask.fieldPaths=blurb&mask.fieldPaths=title\"),q=function(e){return fetch(e).then((function(e){return e.json()}))};var A=!0;t.default=function(e){var t=e.posts,n=D(H,q,{initialData:t}).data,r=n.documents?function(e){return e?e.documents.map((function(e){return{pid:e.name.split(\"/\").pop(),title:e.fields.title.stringValue,blurb:e.fields.blurb.stringValue}})):[]}(n):n;return W(\"div\",{className:\"jsx-3349086740 container\"},W(c.a,null,W(\"title\",{className:\"jsx-3349086740\"},\"Next.js on Firebase Hosting\"),W(\"link\",{rel:\"icon\",href:\"/favicon.ico\",className:\"jsx-3349086740\"})),W(\"main\",{className:\"jsx-3349086740\"},W(F.a,null),W(\"h1\",{className:\"jsx-3349086740 title\"},\"Blog Posts\"),W(\"ul\",{className:\"jsx-3349086740\"},W(\"li\",{className:\"jsx-3349086740\"},\"SSR page with \",W(\"code\",{className:\"jsx-3349086740\"},\"getServerSideProps()\")),W(\"li\",{className:\"jsx-3349086740\"},\"Data fetched from Firestore use\",\" \",W(\"a\",{href:\"https://swr.now.sh/\",target:\"_blank\",className:\"jsx-3349086740\"},\"SWR\"),\" \",\"during SSR\"),W(\"li\",{className:\"jsx-3349086740\"},\"Re-rendered on \",W(\"em\",{className:\"jsx-3349086740\"},\"each\"),\" request, so always latest data\"),W(\"li\",{className:\"jsx-3349086740\"},\"New posts will show on hard refresh\"),W(\"ul\",{className:\"jsx-3349086740\"},W(\"li\",{className:\"jsx-3349086740\"},\"(browsers cache the SSR result for some time)\"))),W(\"p\",{className:\"jsx-3349086740 description\"},\"Blog Posts\"),W(\"div\",{className:\"jsx-3349086740 grid\"},n&&r.map((function(e){return W(l.a,{href:\"blog/[pid]\",as:\"/blog/\".concat(e.pid),key:\"\".concat(e.pid)},W(\"a\",{className:\"jsx-3349086740 card\"},W(\"h3\",{className:\"jsx-3349086740\"},e.title,\" \\u2192\"),W(\"p\",{className:\"jsx-3349086740\"},e.blurb)))})))),W(K.a,null),W(i.a,{id:\"3306993381\"},[\".container.jsx-3349086740{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\",\"main.jsx-3349086740{padding:5rem 0;-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\",\"a.jsx-3349086740{color:#0070f3;-webkit-text-decoration:none;text-decoration:none;}\",\".title.jsx-3349086740 a.jsx-3349086740{color:#0070f3;-webkit-text-decoration:none;text-decoration:none;}\",\".title.jsx-3349086740 a.jsx-3349086740:hover,.title.jsx-3349086740 a.jsx-3349086740:focus,.title.jsx-3349086740 a.jsx-3349086740:active{-webkit-text-decoration:underline;text-decoration:underline;}\",\".title.jsx-3349086740{margin:0;line-height:1.15;font-size:4rem;}\",\".title.jsx-3349086740,.description.jsx-3349086740{text-align:center;}\",\".description.jsx-3349086740{line-height:1.5;font-size:1.5rem;}\",\"code.jsx-3349086740{background:#fafafa;border-radius:5px;padding:0.25rem;font-size:1rem;font-family:Menlo,Monaco,Lucida Console,Liberation Mono, DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace;}\",\".grid.jsx-3349086740{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:800px;margin-top:3rem;}\",\".card.jsx-3349086740{margin:1rem;-webkit-flex-basis:45%;-ms-flex-preferred-size:45%;flex-basis:45%;padding:1.5rem;text-align:left;color:inherit;-webkit-text-decoration:none;text-decoration:none;border:1px solid #eaeaea;border-radius:10px;-webkit-transition:color 0.15s ease,border-color 0.15s ease;transition:color 0.15s ease,border-color 0.15s ease;}\",\".card.jsx-3349086740:hover,.card.jsx-3349086740:focus,.card.jsx-3349086740:active{color:#0070f3;border-color:#0070f3;}\",\".card.jsx-3349086740 h3.jsx-3349086740{margin:0 0 1rem 0;font-size:1.5rem;}\",\".card.jsx-3349086740 p.jsx-3349086740{margin:0;font-size:1.25rem;line-height:1.5;}\",\"@media (max-width:600px){.grid.jsx-3349086740{width:100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}\"]),W(i.a,{id:\"1393252696\"},[\"main{max-width:800px;margin:20px auto 0px auto;}\",\"html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}\",\"*{box-sizing:border-box;}\"]))}},aUsF:function(e,t,n){\"use strict\";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&\"object\"==typeof t&&\"object\"==typeof n){var a,s,c,u=r(t),l=r(n);if(u&&l){if((s=t.length)!=n.length)return!1;for(a=s;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(u!=l)return!1;var f=t instanceof Date,d=n instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==n.getTime();var p=t instanceof RegExp,h=n instanceof RegExp;if(p!=h)return!1;if(p&&h)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!==a--;)if(!e(t[c=m[a]],n[c]))return!1;return!0}return t!==t&&n!==n}},uh6c:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/blog\",function(){return n(\"HfOp\")}])}},[[\"uh6c\",0,2,1,3]]]);","extractedComments":[]}